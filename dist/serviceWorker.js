(()=>{"use strict";function n(n,t,e,r,o,i,c){try{var u=n[i](c),s=u.value}catch(n){return void e(n)}u.done?t(s):Promise.resolve(s).then(r,o)}function t(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var c=t.apply(e,r);function u(t){n(c,o,i,u,s,"next",t)}function s(t){n(c,o,i,u,s,"throw",t)}u(void 0)}))}}const e="offscreen.html";let r=null;const o=function(){var n=t((function*(){const n=yield clients.matchAll();for(const t of n)if(t.url.endsWith(e))return!0;return!1}));return function(){return n.apply(this,arguments)}}(),i=function(){var n=t((function*(){(yield o())||(r?yield r:(r=chrome.offscreen.createDocument({url:e,reasons:["WEB_RTC"],justification:"testing web rtc soft phone"}),yield r,r=null))}));return function(){return n.apply(this,arguments)}}();(function(){var n=t((function*(){yield i()}));return function(){return n.apply(this,arguments)}})()(),chrome.runtime.onMessage.addListener((n=>{"service-worker"===(null==n?void 0:n.target)&&"OUTGOING_CALL_EXTENSION"===n.type&&(console.log(n),chrome.tabs.query({}).then((t=>{t.forEach((t=>{t.url.includes("oxg.local")&&(console.log(t),chrome.tabs.sendMessage(t.id,{target:"content-script",data:n.data}))}))})))}))})();